--- admin/index.html
+++ admin/index.html
@@ -815,18 +815,23 @@
 
                 const playMusic = () => {
                     sendCommand('play_music');
+                    // 立即更新时间，避免等待服务器响应的延迟
                     isPlaying.value = true;
-                    updateProgressTimer();
                 };

                 const pauseMusic = () => {
-                    sendCommand('pause_music');
+                    // 发送暂停命令时，带上当前时间
+                    sendCommand('pause_music', { time: currentTime.value });
                     // 立即更新播放状态，避免等待服务器响应的延迟
                     isPlaying.value = false;
-                    updateProgressTimer();
                 };

                 const prevTrack = () => {
+                    // 切换前先暂停
+                    if (isPlaying.value) {
+                        pauseMusic();
+                    }
                     sendCommand('prev_track');
                 };

@@ -845,6 +850,11 @@
                 };

                 const seekMusic = (event) => {
+                    // 如果正在播放，先暂停一下
+                    const wasPlaying = isPlaying.value;
+                    if (wasPlaying) {
+                        pauseMusic();
+                    }
                     if (!currentTrack.value) return;

                     const progressBar = event.currentTarget;

@@ -856,12 +866,19 @@
                     isDraggingProgress = true;

                     sendCommand('seek_music', { time });
+                    // 立即更新时间，避免等待服务器响应的延迟
+                    currentTime.value = time;

+                    // 稍后恢复播放状态
+                    setTimeout(() => {
+                        isDraggingProgress = false;
+                        if (wasPlaying) {
+                            playMusic();
+                        }
+                    }, 100);
+                };

-                    // 立即更新时间，避免等待服务器响应的延迟
-                    currentTime.value = time;

-                    // 稍后重置拖动标记并更新定时器
-                    setTimeout(() => {
+                const updateProgressTimer = () => {
                         isDraggingProgress = false;
                         updateProgressTimer();
                     }, 100);

@@ -896,6 +913,9 @@
                 const selectSlide = (index) => {
                     if (index < 0 || index >= slides.value.length) return;
                     sendCommand('select_slide', { index });
+                    // 切换到幻灯片模式
+                    currentMode.value = 'slide';
+                    isPlaying.value = false;
                 };

                 // 文件处理

@@ -1097,6 +1117,8 @@
                 // 初始化
                 const init = async () => {
                     console.log('初始化管理端...');
+                    // 连接WebSocket
+                    connectWebSocket();

                     // 获取初始状态
                     try {
@@ -1107,9 +1129,6 @@
                     } catch (error) {
                         console.error('获取初始状态失败:', error);
                     }
-
-                    // 连接WebSocket
-                    connectWebSocket();
                 };

                 // 生命周期